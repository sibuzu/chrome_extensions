{"version":3,"file":"background.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA,MAAMA,KAAK,GAAGC,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAACC,QAAQ,CAAC,MAAM,CAAC,IAC9DC,QAAQ,CAACC,QAAQ,KAAK,WAAW,IACjCN,MAAM,CAACC,OAAO,CAACM,EAAE,KAAK,kCAAkC;AAE7D,IAAIR,KAAK,EAAE;EAAES,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEV,KAAK,CAAC;AAAE;;AAEpD;AACO,MAAMW,sBAAsB,GAAG,KAAK;AACpC,MAAMC,mBAAmB,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AAC3F,MAAMC,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;AACvC,MAAMC,iBAAiB,GAAG,EAAE;AAC5B,MAAMC,oBAAoB,GAAGC,SAAS;;AAE7C;AACO,MAAMC,UAAU,GAAG;EACxB;EACAC,QAAQ,EAAElB,KAAK,GAAG,uBAAuB,GAAG,4BAA4B;EACxE;EACA;;EAEAmB,SAAS,EAAE;IACTC,UAAU,EAAE,aAAa;IACzBC,SAAS,EAAE,aAAa;IACxBC,UAAU,EAAE,aAAa;IACzBC,SAAS,EAAE;EACb;AACF,CAAC;;AAED;AACO,MAAMC,gBAAgB,GAAG;EAC9BC,UAAU,EAAE,EAAE;EACdC,sBAAsB,EAAE,CAAC;EACzBC,eAAe,EAAE,GAAG;EACpBC,qBAAqB,EAAE,KAAK;EAC5BC,MAAM,EAAE;IACNC,SAAS,EAAE;MACTC,QAAQ,EAAE,UAAU;MACpBC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE,GAAG;MACTC,KAAK,EAAE,GAAG;MACVC,SAAS,EAAE,QAAQ;MACnBC,MAAM,EAAE,MAAM;MACdC,aAAa,EAAE,MAAM;MACrBC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE,QAAQ;MACpBC,OAAO,EAAE;IACX,CAAC;IACDC,cAAc,EAAE;MACdC,eAAe,EAAE,qBAAqB;MACtCF,OAAO,EAAE,UAAU;MACnBG,YAAY,EAAE,KAAK;MACnBC,KAAK,EAAE,aAAa;MACpBC,MAAM,EAAE;IACV,CAAC;IACDC,KAAK,EAAE;MACLC,QAAQ,EAAE,MAAM;MAChBC,UAAU,EAAE,kFAAkF;MAC9FC,KAAK,EAAE,OAAO;MACdC,UAAU,EAAE,6BAA6B;MACzCC,YAAY,EAAE,KAAK;MACnBd,OAAO,EAAE;IACX,CAAC;IACDe,EAAE,EAAE;MACFL,QAAQ,EAAE,MAAM;MAChBC,UAAU,EAAE,kFAAkF;MAC9FC,KAAK,EAAE,OAAO;MACdC,UAAU,EAAE,6BAA6B;MACzCb,OAAO,EAAE;IACX;EACF;AACF,CAAC;;AAED;AACO,eAAegB,kBAAkBA,CAAA,EAAG;EACzC,MAAMC,YAAY,GAAG,MAAMC,MAAM,CAACC,sBAAsB,CAAC,CAAC;EAC1D,MAAMC,QAAQ,GAAG,CAACH,YAAY;EAE9B9C,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAE6C,YAAY,EAAE,KAAK,EAAEG,QAAQ,CAAC;EAEnFlC,gBAAgB,CAACI,qBAAqB,GAAG8B,QAAQ;EACjD,MAAMF,MAAM,CAACG,sBAAsB,CAACD,QAAQ,CAAC;;EAE7C;EACAzD,MAAM,CAAC2D,IAAI,CAACC,KAAK,CAAC;IAACC,MAAM,EAAE,IAAI;IAAEC,aAAa,EAAE;EAAI,CAAC,EAAE,UAASH,IAAI,EAAE;IACpE,IAAIA,IAAI,CAAC,CAAC,CAAC,EAAE;MACX3D,MAAM,CAAC2D,IAAI,CAACI,WAAW,CAACJ,IAAI,CAAC,CAAC,CAAC,CAACpD,EAAE,EAAE;QAClCyD,IAAI,EAAE,iBAAiB;QACvBC,OAAO,EAAER;MACX,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EAEF,OAAOA,QAAQ;AACjB;AAEO,SAASS,yBAAyBA,CAAA,EAAG;EAC1CX,MAAM,CAACG,sBAAsB,CAAC,KAAK,CAAC;EACpC,OAAO,KAAK;AACd;AAEO,MAAMH,MAAM,CAAC;EAClB,OAAOY,kBAAkB,GAAG;IAC1BhE,OAAO,EAAEO,sBAAsB;IAC/B0D,WAAW,EAAE;MACXC,QAAQ,EAAE;QACRC,KAAK,EAAE,IAAI;QACXC,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC;MACDC,YAAY,EAAE;QACZJ,KAAK,EAAE,KAAK;QACZC,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC;MACD1B,QAAQ,EAAE;QACRuB,KAAK,EAAEzD,iBAAiB;QACxB0D,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;QACvBE,aAAa,EAAE/D;MACjB,CAAC;MACDgE,UAAU,EAAE;QACVN,KAAK,EAAE,KAAK;QACZC,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC;MACDI,WAAW,EAAE;QACXP,KAAK,EAAExD,oBAAoB;QAC3ByD,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB;IACF;EACF,CAAC;EAED,aAAaK,GAAGA,CAAA,EAAG;IACjB,IAAI;MACFtE,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;MAC1D,MAAM;QAAEsE;MAAO,CAAC,GAAG,MAAM/E,MAAM,CAACgF,OAAO,CAACC,KAAK,CAACH,GAAG,CAAC,QAAQ,CAAC;MAC3DtE,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAEsE,MAAM,CAAC;MAE9D,IAAI,CAACA,MAAM,EAAE;QACXvE,OAAO,CAACC,GAAG,CAAC,4DAA4D,CAAC;QACzE,OAAO,IAAI,CAAC0D,kBAAkB;MAChC;;MAEA;MACA,IAAIY,MAAM,CAAC5E,OAAO,KAAKO,sBAAsB,EAAE;QAC7CF,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;QAC1D,OAAO,IAAI,CAACyE,aAAa,CAACH,MAAM,CAAC;MACnC;;MAEA;MACA,IAAI,CAACA,MAAM,CAACX,WAAW,CAACS,WAAW,EAAE;QACnCrE,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAC;QACxEsE,MAAM,CAACX,WAAW,CAACS,WAAW,GAAG;UAC/BP,KAAK,EAAExD,oBAAoB;UAC3ByD,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;QACxB,CAAC;QACD,MAAM,IAAI,CAACU,IAAI,CAACJ,MAAM,CAAC;MACzB;MAEA,OAAOA,MAAM;IACf,CAAC,CAAC,OAAOK,KAAK,EAAE;MACd5E,OAAO,CAAC4E,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC7D,OAAO,IAAI,CAACjB,kBAAkB;IAChC;EACF;EAEA,aAAagB,IAAIA,CAACJ,MAAM,EAAE;IACxB,IAAI;MACFvE,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAE4E,IAAI,CAACC,SAAS,CAACP,MAAM,CAAC,CAAC;MACrE,MAAM/E,MAAM,CAACgF,OAAO,CAACC,KAAK,CAACM,GAAG,CAAC;QAAER;MAAO,CAAC,CAAC;MAC1CvE,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC;MACxD,OAAOsE,MAAM;IACf,CAAC,CAAC,OAAOK,KAAK,EAAE;MACd5E,OAAO,CAAC4E,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5D,MAAMA,KAAK;IACb;EACF;EAEA,aAAaI,UAAUA,CAAA,EAAG;IACxBhF,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;;IAElD;IACA,MAAM;MAAEsE;IAAO,CAAC,GAAG,MAAM/E,MAAM,CAACgF,OAAO,CAACC,KAAK,CAACH,GAAG,CAAC,QAAQ,CAAC;IAE3D,IAAI,CAACC,MAAM,EAAE;MACXvE,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;MAChE;MACA,MAAM,IAAI,CAAC0E,IAAI,CAAC,IAAI,CAAChB,kBAAkB,CAAC;MACxC,OAAO,IAAI,CAACA,kBAAkB;IAChC;;IAEA;IACA,IAAIsB,OAAO,GAAG,KAAK;;IAEnB;IACA,KAAK,MAAMC,GAAG,IAAI,IAAI,CAACvB,kBAAkB,CAACC,WAAW,EAAE;MACrD,IAAI,CAACW,MAAM,CAACX,WAAW,CAACsB,GAAG,CAAC,EAAE;QAC5BlF,OAAO,CAACC,GAAG,CAAC,uCAAuCiF,GAAG,EAAE,CAAC;QACzDX,MAAM,CAACX,WAAW,CAACsB,GAAG,CAAC,GAAG,IAAI,CAACvB,kBAAkB,CAACC,WAAW,CAACsB,GAAG,CAAC;QAClED,OAAO,GAAG,IAAI;MAChB;IACF;;IAEA;IACA,IAAIA,OAAO,EAAE;MACXjF,OAAO,CAACC,GAAG,CAAC,iEAAiE,CAAC;MAC9E,MAAM,IAAI,CAAC0E,IAAI,CAACJ,MAAM,CAAC;IACzB;IAEA,OAAOA,MAAM;EACf;EAEA,aAAaG,aAAaA,CAACS,SAAS,EAAE;IACpCnF,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEkF,SAAS,CAACxF,OAAO,CAAC;;IAElE;IACA,MAAMyF,SAAS,GAAG;MAChBzF,OAAO,EAAEO,sBAAsB;MAC/B0D,WAAW,EAAE;QACXC,QAAQ,EAAE;UACRC,KAAK,EAAEqB,SAAS,CAACE,wBAAwB,IAAI,IAAI;UACjDtB,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;QACxB,CAAC;QACDC,YAAY,EAAE;UACZJ,KAAK,EAAEqB,SAAS,CAACG,mBAAmB,IAAI,KAAK;UAC7CvB,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;QACxB,CAAC;QACD1B,QAAQ,EAAE;UACRuB,KAAK,EAAEyB,QAAQ,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC,IAAIpF,iBAAiB;UAC7E0D,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;UACvBE,aAAa,EAAE/D;QACjB,CAAC;QACDgE,UAAU,EAAE;UACVN,KAAK,EAAEqB,SAAS,CAACO,iBAAiB,IAAI,KAAK;UAC3C3B,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;QACxB,CAAC;QACDI,WAAW,EAAE;UACXP,KAAK,EAAExD,oBAAoB;UAC3ByD,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;QACxB;MACF;IACF,CAAC;IAED,MAAM,IAAI,CAACU,IAAI,CAACS,SAAS,CAAC;IAC1B,OAAOA,SAAS;EAClB;EAEA,aAAaO,oBAAoBA,CAAA,EAAG;IAClC,MAAMpB,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAC/B,OAAOC,MAAM,CAACX,WAAW,CAACC,QAAQ,CAACC,KAAK;EAC1C;EAEA,aAAa8B,oBAAoBA,CAACC,IAAI,EAAE;IACtC,MAAMC,SAAS,GAAG3F,mBAAmB,CAACP,QAAQ,CAACiG,IAAI,CAAC,GAAGA,IAAI,GAAG,IAAI;IAClE,MAAMtB,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAE/BC,MAAM,CAACX,WAAW,CAACC,QAAQ,GAAG;MAC5BC,KAAK,EAAEgC,SAAS;MAChB/B,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;IACxB,CAAC;IAED,MAAM,IAAI,CAACU,IAAI,CAACJ,MAAM,CAAC;IACvB,OAAOuB,SAAS;EAClB;EAEA,aAAa9C,sBAAsBA,CAAA,EAAG;IACpC,MAAMuB,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAC/B,OAAOC,MAAM,CAACX,WAAW,CAACM,YAAY,CAACJ,KAAK;EAC9C;EAEA,aAAaZ,sBAAsBA,CAACO,OAAO,EAAE;IAC3C,MAAMc,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAE/BC,MAAM,CAACX,WAAW,CAACM,YAAY,GAAG;MAChCJ,KAAK,EAAE,CAAC,CAACL,OAAO;MAChBM,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;IACxB,CAAC;IAED,MAAM,IAAI,CAACU,IAAI,CAACJ,MAAM,CAAC;IACvB,OAAO,CAAC,CAACd,OAAO;EAClB;EAEA,aAAasC,WAAWA,CAAA,EAAG;IACzB,MAAMxB,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAC/B,OAAOC,MAAM,CAACX,WAAW,CAACrB,QAAQ,CAACuB,KAAK;EAC1C;EAEA,aAAakC,WAAWA,CAACC,IAAI,EAAE;IAC7B,MAAMC,SAAS,GAAG9F,UAAU,CAACR,QAAQ,CAACqG,IAAI,CAAC,GAAGA,IAAI,GAAG5F,iBAAiB;IACtE,MAAMkE,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAE/BC,MAAM,CAACX,WAAW,CAACrB,QAAQ,GAAG;MAC5BuB,KAAK,EAAEoC,SAAS;MAChBnC,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACvBE,aAAa,EAAE/D;IACjB,CAAC;IAED,MAAM,IAAI,CAACuE,IAAI,CAACJ,MAAM,CAAC;IACvB,OAAO2B,SAAS;EAClB;EAEA,aAAaC,oBAAoBA,CAAA,EAAG;IAClC,MAAM5B,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAC/B,OAAOC,MAAM,CAACX,WAAW,CAACQ,UAAU,EAAEN,KAAK,IAAI,KAAK;EACtD;EAEA,aAAasC,oBAAoBA,CAAC3C,OAAO,EAAE;IACzC,MAAMc,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAC/BC,MAAM,CAACX,WAAW,CAACQ,UAAU,GAAG;MAC9BN,KAAK,EAAEL,OAAO;MACdM,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;IACxB,CAAC;IACD,MAAM,IAAI,CAACU,IAAI,CAACJ,MAAM,CAAC;IACvB,OAAOd,OAAO;EAChB;EAEA,aAAa4C,cAAcA,CAAA,EAAG;IAC5B,IAAI;MACF,MAAM9B,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;MAC/BtE,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEsE,MAAM,CAAC;;MAEjE;MACA,IAAI,CAACA,MAAM,CAACX,WAAW,CAACS,WAAW,EAAE;QACnCrE,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAC;QAC3E,OAAOK,oBAAoB;MAC7B;MAEAN,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAEsE,MAAM,CAACX,WAAW,CAACS,WAAW,CAACP,KAAK,CAAC;MAC3F,OAAOS,MAAM,CAACX,WAAW,CAACS,WAAW,CAACP,KAAK;IAC7C,CAAC,CAAC,OAAOc,KAAK,EAAE;MACd5E,OAAO,CAAC4E,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5D,OAAOtE,oBAAoB;IAC7B;EACF;EAEA,aAAagG,cAAcA,CAACC,QAAQ,EAAE;IACpCvG,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEsG,QAAQ,CAAC;IACvD,MAAMhC,MAAM,GAAG,MAAM,IAAI,CAACD,GAAG,CAAC,CAAC;IAC/BtE,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAE4E,IAAI,CAACC,SAAS,CAACP,MAAM,CAAC,CAAC;IAE7EA,MAAM,CAACX,WAAW,CAACS,WAAW,GAAG;MAC/BP,KAAK,EAAEyC,QAAQ;MACfxC,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;IACxB,CAAC;IAEDjE,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAE4E,IAAI,CAACC,SAAS,CAACP,MAAM,CAAC,CAAC;IAC3E,MAAM,IAAI,CAACI,IAAI,CAACJ,MAAM,CAAC;;IAEvB;IACA,MAAMiC,YAAY,GAAG,MAAM,IAAI,CAAClC,GAAG,CAAC,CAAC;IACrCtE,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAE4E,IAAI,CAACC,SAAS,CAAC0B,YAAY,CAAC,CAAC;IAEjF,OAAOD,QAAQ;EACjB;AACF;;;;;;;;;;ACnWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,QAAQ,UAAU;AAC7B,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,WAAW;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB,WAAW;AACX;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;ACjnBqE;;AAErE;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,MAAM,IAAqC;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,MAAqC,GAAG,CAAyB;AACrF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;;AAEA;AACA,oBAAoB,MAAqC,GAAG,CAAyB;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,MAAqC,GAAG,CAAyB;AACzF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;;AAEA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,eAAe;AACf;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAA0B;AACxF;;AAEA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA,0BAA0B,MAAqC,GAAG,CAA0B;AAC5F;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,IAAI;AACJ;AACA;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,IAAI,aAAa;;AAEjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,sBAAsB,MAAqC,GAAG,CAA0B;AACxF;;AAEA;AACA;AACA,KAAK;AACL,sBAAsB,MAAqC,GAAG,CAA0B;AACxF;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;;;AAGA;AACA;AACA;;AAEA,kBAAkB,wBAAwB;AAC1C;;AAEA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qDAAqD;AACrD;;AAEA;;AAEA,MAAM,IAAqC;AAC3C;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,MAAqC,GAAG,CAA0B;AAC1F;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,MAAqC,GAAG,CAA0B;AACtF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,UAAU;AACvB;;AAEA;AACA,6EAA6E,aAAa;AAC1F;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,MAAqC,GAAG,CAA0B;AAC1F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,aAAa,oFAAa,CAAC,oFAAa,GAAG,YAAY;AACvD;AACA,OAAO;AACP;AACA;AACA;;AAEoJ;;;;;;;;;;;;AChsBvI;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA,UAAU,QAAQ,oFAAoF,iCAAiC;AACvI;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kB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CA;AACA,wCAAwC;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL,8CAA8C;AAC9C;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B,gBAAgB,mBAAmB;AACnC;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB,gBAAgB,aAAa;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,8EAA8E;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA,kBAAe;;;;;;;;;;;AC7QF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,mCAAmC;;AAEnC,gCAAgC;;AAEhC,kCAAkC;;AAElC,mCAAmC,0BAA0B,8CAA8C,gBAAgB,OAAO,oBAAoB;;AAEtJ;AACA;AACA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;;AAGA;AACA,oGAAoG,eAAe;AACnH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;AC9Da;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,iCAAiC,GAAG,gCAAgC,GAAG,2BAA2B,GAAG,2BAA2B;AAChI;AACA,qCAAqC;;AAErC,2BAA2B;AAC3B;AACA,2BAA2B;AAC3B;AACA,gCAAgC;AAChC;AACA,iCAAiC;;;;;;;;;;;ACfpB;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,iBAAiB,mBAAO,CAAC,8EAAc;;AAEvC;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;;;;;;;;;;;ACtCa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,iBAAiB,mBAAO,CAAC,8EAAc;;AAEvC;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;;;;;;;;;;AC9Ba;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AC5Ba;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,iBAAiB,mBAAO,CAAC,yEAAc;;AAEvC,qBAAqB,mBAAO,CAAC,2EAAkB;;AAE/C,YAAY,mBAAO,CAAC,yDAAS;;AAE7B,mCAAmC,mBAAO,CAAC,uGAAgC;;AAE3E,uCAAuC,uCAAuC;;AAE9E;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,UAAU;AACtB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ,2BAA2B,sDAAsD;AACpG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA,OAAO;AACP;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;;;AAGP,mDAAmD;;AAEnD,gDAAgD;;AAEhD;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;;AAGA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA,2DAA2D,gEAAgE;AAC3H;AACA;AACA;AACA;AACA,SAAS;AACT,yCAAyC;AACzC;AACA;AACA,SAAS;AACT;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA,2CAA2C,qBAAqB;AAChE;;AAEA,kBAAe;;;;;;;;;;;;;;;;AClOgC;AAC/C;AACA,cAAc,6DAAa;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","sources":["webpack://youtube-subtitles-extension/./lib/config.js","webpack://youtube-subtitles-extension/../node_modules/lodash.assignin/index.js","webpack://youtube-subtitles-extension/../node_modules/redux/es/redux.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/alias/alias.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/constants/index.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/index.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/serialization.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/store/Store.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/store/applyMiddleware.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/strategies/constants.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/strategies/shallowDiff/diff.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/strategies/shallowDiff/patch.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/util.js","webpack://youtube-subtitles-extension/../node_modules/webext-redux/lib/wrap-store/wrapStore.js","webpack://youtube-subtitles-extension/../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://youtube-subtitles-extension/../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://youtube-subtitles-extension/../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://youtube-subtitles-extension/../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://youtube-subtitles-extension/../node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://youtube-subtitles-extension/webpack/bootstrap","webpack://youtube-subtitles-extension/webpack/runtime/define property getters","webpack://youtube-subtitles-extension/webpack/runtime/hasOwnProperty shorthand","webpack://youtube-subtitles-extension/webpack/runtime/make namespace object","webpack://youtube-subtitles-extension/./background.js"],"sourcesContent":["/**\n * Configuration for the Chrome extension\n */\n\nconst isDev = chrome.runtime.getManifest().version.includes('-dev') \n  || location.hostname === 'localhost'\n  || chrome.runtime.id === 'efmnkbmjoghelgmbhigioddcidenphle';\n\nif (isDev) { console.log('[Config] isDev:', isDev); }\n\n// Constants for configuration\nexport const CURRENT_CONFIG_VERSION = '1.0';\nexport const SUPPORTED_LANGUAGES = ['en', 'zh-cn', 'zh-tw', 'zh-hk', 'ko', 'ja', 'fr', 'es', 'th'];\nexport const FONT_SIZES = [12, 14, 16, 18, 20];\nexport const DEFAULT_FONT_SIZE = 14;\nexport const DEFAULT_SRT_PROVIDER = undefined;\n\n// API configuration\nexport const API_CONFIG = {\n  // Use development URL when in dev mode\n  BASE_URL: isDev ? 'http://127.0.0.1:3003' : 'https://worker.deepsrt.com',\n  // BASE_URL: isDev ? 'https://preview.srt-client-proxy.pages.dev' : 'https://worker.deepsrt.com',\n  // BASE_URL: isDev ? 'https://worker.deepsrt.com' : 'https://worker.deepsrt.com',\n  \n  ENDPOINTS: {\n    TRANSCRIBE: '/transcribe',\n    TRANSLATE: '/transcript',\n    TRANSCRIPT: '/transcript',\n    SUMMARIZE: '/transcript'\n  }\n};\n\n// Subtitles configuration\nexport const SUBTITLES_CONFIG = {\n  BATCH_SIZE: 10,\n  MAX_CONCURRENT_BATCHES: 3,\n  UPDATE_INTERVAL: 100,\n  ENABLE_LIVE_SUBTITLES: false,\n  STYLES: {\n    CONTAINER: {\n      position: 'absolute',\n      bottom: '60px',\n      left: '0',\n      right: '0',\n      textAlign: 'center',\n      zIndex: '1000',\n      pointerEvents: 'none',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: '10px'\n    },\n    SUBTITLE_BLOCK: {\n      backgroundColor: 'rgba(0, 0, 0, 0.75)',\n      padding: '4px 10px',\n      borderRadius: '4px',\n      width: 'fit-content',\n      margin: '0 auto'\n    },\n    ZH_TW: {\n      fontSize: '25px',\n      fontFamily: '\"YouTube Noto\", Roboto, Arial, Helvetica, Verdana, \"PT Sans Caption\", sans-serif',\n      color: 'white',\n      textShadow: '2px 2px 2px rgba(0,0,0,0.8)',\n      marginBottom: '2px',\n      display: 'block'\n    },\n    EN: {\n      fontSize: '25px',\n      fontFamily: '\"YouTube Noto\", Roboto, Arial, Helvetica, Verdana, \"PT Sans Caption\", sans-serif',\n      color: 'white',\n      textShadow: '2px 2px 2px rgba(0,0,0,0.8)',\n      display: 'block'\n    }\n  }\n};\n\n// Helper functions\nexport async function toggleLiveCaptions() {\n  const currentState = await Config.getLiveCaptionsEnabled();\n  const newState = !currentState;\n  \n  console.log('[Config] Toggling live captions from:', currentState, 'to:', newState);\n  \n  SUBTITLES_CONFIG.ENABLE_LIVE_SUBTITLES = newState;\n  await Config.setLiveCaptionsEnabled(newState);\n  \n  // Notify content script\n  chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\n    if (tabs[0]) {\n      chrome.tabs.sendMessage(tabs[0].id, {\n        type: 'TOGGLE_CAPTIONS',\n        enabled: newState\n      });\n    }\n  });\n  \n  return newState;\n}\n\nexport function forceLiveCaptionsDisabled() {\n  Config.setLiveCaptionsEnabled(false);\n  return false;\n}\n\nexport class Config {\n  static defaultPreferences = {\n    version: CURRENT_CONFIG_VERSION,\n    preferences: {\n      language: {\n        value: 'en',\n        lastUpdated: Date.now()\n      },\n      liveCaptions: {\n        value: false,\n        lastUpdated: Date.now()\n      },\n      fontSize: {\n        value: DEFAULT_FONT_SIZE,\n        lastUpdated: Date.now(),\n        allowedValues: FONT_SIZES\n      },\n      bulletList: {\n        value: false,\n        lastUpdated: Date.now()\n      },\n      srtProvider: {\n        value: DEFAULT_SRT_PROVIDER,\n        lastUpdated: Date.now()\n      }\n    }\n  };\n\n  static async get() {\n    try {\n      console.log('[Config] Getting configuration from storage');\n      const { config } = await chrome.storage.local.get('config');\n      console.log('[Config] Retrieved config from storage:', config);\n      \n      if (!config) {\n        console.log('[Config] No configuration found, using default preferences');\n        return this.defaultPreferences;\n      }\n\n      // Version check and migration\n      if (config.version !== CURRENT_CONFIG_VERSION) {\n        console.log('[Config] Config version mismatch, migrating');\n        return this.migrateConfig(config);\n      }\n\n      // Check if srtProvider exists in the config\n      if (!config.preferences.srtProvider) {\n        console.log('[Config] SRT provider not found in config, adding default');\n        config.preferences.srtProvider = {\n          value: DEFAULT_SRT_PROVIDER,\n          lastUpdated: Date.now()\n        };\n        await this.save(config);\n      }\n\n      return config;\n    } catch (error) {\n      console.error('[Config] Error getting configuration:', error);\n      return this.defaultPreferences;\n    }\n  }\n\n  static async save(config) {\n    try {\n      console.log('[Config] Saving configuration:', JSON.stringify(config));\n      await chrome.storage.local.set({ config });\n      console.log('[Config] Configuration saved successfully');\n      return config;\n    } catch (error) {\n      console.error('[Config] Error saving configuration:', error);\n      throw error;\n    }\n  }\n\n  static async initialize() {\n    console.log('[Config] Initializing configuration');\n    \n    // Check if config already exists\n    const { config } = await chrome.storage.local.get('config');\n    \n    if (!config) {\n      console.log('[Config] No configuration found, creating default');\n      // Create default configuration\n      await this.save(this.defaultPreferences);\n      return this.defaultPreferences;\n    }\n    \n    // Check if any new preferences have been added since the last initialization\n    let updated = false;\n    \n    // Check for missing preferences and add them with default values\n    for (const key in this.defaultPreferences.preferences) {\n      if (!config.preferences[key]) {\n        console.log(`[Config] Adding missing preference: ${key}`);\n        config.preferences[key] = this.defaultPreferences.preferences[key];\n        updated = true;\n      }\n    }\n    \n    // If configuration was updated, save it\n    if (updated) {\n      console.log('[Config] Configuration updated with missing preferences, saving');\n      await this.save(config);\n    }\n    \n    return config;\n  }\n\n  static async migrateConfig(oldConfig) {\n    console.log('[Config] Migrating from version:', oldConfig.version);\n    \n    // Create new config with current version\n    const newConfig = {\n      version: CURRENT_CONFIG_VERSION,\n      preferences: {\n        language: {\n          value: oldConfig.preferredCaptionLanguage || 'en',\n          lastUpdated: Date.now()\n        },\n        liveCaptions: {\n          value: oldConfig.liveCaptionsEnabled || false,\n          lastUpdated: Date.now()\n        },\n        fontSize: {\n          value: parseInt(localStorage.getItem('summaryFontSize')) || DEFAULT_FONT_SIZE,\n          lastUpdated: Date.now(),\n          allowedValues: FONT_SIZES\n        },\n        bulletList: {\n          value: oldConfig.bulletListEnabled || false,\n          lastUpdated: Date.now()\n        },\n        srtProvider: {\n          value: DEFAULT_SRT_PROVIDER,\n          lastUpdated: Date.now()\n        }\n      }\n    };\n\n    await this.save(newConfig);\n    return newConfig;\n  }\n\n  static async getPreferredLanguage() {\n    const config = await this.get();\n    return config.preferences.language.value;\n  }\n\n  static async setPreferredLanguage(lang) {\n    const validLang = SUPPORTED_LANGUAGES.includes(lang) ? lang : 'en';\n    const config = await this.get();\n    \n    config.preferences.language = {\n      value: validLang,\n      lastUpdated: Date.now()\n    };\n    \n    await this.save(config);\n    return validLang;\n  }\n\n  static async getLiveCaptionsEnabled() {\n    const config = await this.get();\n    return config.preferences.liveCaptions.value;\n  }\n\n  static async setLiveCaptionsEnabled(enabled) {\n    const config = await this.get();\n    \n    config.preferences.liveCaptions = {\n      value: !!enabled,\n      lastUpdated: Date.now()\n    };\n    \n    await this.save(config);\n    return !!enabled;\n  }\n\n  static async getFontSize() {\n    const config = await this.get();\n    return config.preferences.fontSize.value;\n  }\n\n  static async setFontSize(size) {\n    const validSize = FONT_SIZES.includes(size) ? size : DEFAULT_FONT_SIZE;\n    const config = await this.get();\n    \n    config.preferences.fontSize = {\n      value: validSize,\n      lastUpdated: Date.now(),\n      allowedValues: FONT_SIZES\n    };\n    \n    await this.save(config);\n    return validSize;\n  }\n\n  static async getBulletListEnabled() {\n    const config = await this.get();\n    return config.preferences.bulletList?.value ?? false;\n  }\n\n  static async setBulletListEnabled(enabled) {\n    const config = await this.get();\n    config.preferences.bulletList = {\n      value: enabled,\n      lastUpdated: Date.now()\n    };\n    await this.save(config);\n    return enabled;\n  }\n\n  static async getSrtProvider() {\n    try {\n      const config = await this.get();\n      console.log('[Config] Getting SRT provider from config:', config);\n      \n      // Check if srtProvider exists in the config\n      if (!config.preferences.srtProvider) {\n        console.log('[Config] SRT provider not found in config, returning default');\n        return DEFAULT_SRT_PROVIDER;\n      }\n      \n      console.log('[Config] Retrieved SRT provider value:', config.preferences.srtProvider.value);\n      return config.preferences.srtProvider.value;\n    } catch (error) {\n      console.error('[Config] Error getting SRT provider:', error);\n      return DEFAULT_SRT_PROVIDER;\n    }\n  }\n\n  static async setSrtProvider(provider) {\n    console.log('[Config] Setting SRT provider:', provider);\n    const config = await this.get();\n    console.log('[Config] Current config before update:', JSON.stringify(config));\n    \n    config.preferences.srtProvider = {\n      value: provider,\n      lastUpdated: Date.now()\n    };\n    \n    console.log('[Config] Updated config before save:', JSON.stringify(config));\n    await this.save(config);\n    \n    // Verify the save worked by reading it back\n    const verifyConfig = await this.get();\n    console.log('[Config] Verified config after save:', JSON.stringify(verifyConfig));\n    \n    return provider;\n  }\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = assignIn;\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\r\n * Simple middleware intercepts actions and replaces with\r\n * another by calling an alias function with the original action\r\n * @type {object} aliases an object that maps action types (keys) to alias functions (values) (e.g. { SOME_ACTION: newActionAliasFunc })\r\n */\nvar _default = function _default(aliases) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        var alias = aliases[action.type];\n\n        if (alias) {\n          return next(alias(action));\n        }\n\n        return next(action);\n      };\n    };\n  };\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_PORT_NAME = exports.PATCH_STATE_TYPE = exports.STATE_TYPE = exports.DISPATCH_TYPE = void 0;\n// Message type used for dispatch events\n// from the Proxy Stores to background\nvar DISPATCH_TYPE = 'chromex.dispatch'; // Message type for state update events from\n// background to Proxy Stores\n\nexports.DISPATCH_TYPE = DISPATCH_TYPE;\nvar STATE_TYPE = 'chromex.state'; // Message type for state patch events from\n// background to Proxy Stores\n\nexports.STATE_TYPE = STATE_TYPE;\nvar PATCH_STATE_TYPE = 'chromex.patch_state'; // The default name for the port communication via\n// react-chrome-redux\n\nexports.PATCH_STATE_TYPE = PATCH_STATE_TYPE;\nvar DEFAULT_PORT_NAME = \"chromex.port_name\";\nexports.DEFAULT_PORT_NAME = DEFAULT_PORT_NAME;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Store\", {\n  enumerable: true,\n  get: function get() {\n    return _Store.default;\n  }\n});\nObject.defineProperty(exports, \"applyMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _applyMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"wrapStore\", {\n  enumerable: true,\n  get: function get() {\n    return _wrapStore.default;\n  }\n});\nObject.defineProperty(exports, \"alias\", {\n  enumerable: true,\n  get: function get() {\n    return _alias.default;\n  }\n});\n\nvar _Store = _interopRequireDefault(require(\"./store/Store\"));\n\nvar _applyMiddleware = _interopRequireDefault(require(\"./store/applyMiddleware\"));\n\nvar _wrapStore = _interopRequireDefault(require(\"./wrap-store/wrapStore\"));\n\nvar _alias = _interopRequireDefault(require(\"./alias/alias\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withSerializer = exports.withDeserializer = exports.noop = void 0;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar noop = function noop(payload) {\n  return payload;\n};\n\nexports.noop = noop;\n\nvar transformPayload = function transformPayload(message) {\n  var transformer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return _objectSpread({}, message, message.payload ? {\n    payload: transformer(message.payload)\n  } : {});\n};\n\nvar deserializeListener = function deserializeListener(listener) {\n  var deserializer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  var shouldDeserialize = arguments.length > 2 ? arguments[2] : undefined;\n\n  // If a shouldDeserialize function is passed, return a function that uses it\n  // to check if any given message payload should be deserialized\n  if (shouldDeserialize) {\n    return function (message) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (shouldDeserialize.apply(void 0, [message].concat(args))) {\n        return listener.apply(void 0, [transformPayload(message, deserializer)].concat(args));\n      }\n\n      return listener.apply(void 0, [message].concat(args));\n    };\n  } // Otherwise, return a function that tries to deserialize on every message\n\n\n  return function (message) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return listener.apply(void 0, [transformPayload(message, deserializer)].concat(args));\n  };\n};\n/**\r\n * A function returned from withDeserializer that, when called, wraps addListenerFn with the\r\n * deserializer passed to withDeserializer.\r\n * @name AddListenerDeserializer\r\n * @function\r\n * @param {Function} addListenerFn The add listener function to wrap.\r\n * @returns {DeserializedAddListener}\r\n */\n\n/**\r\n * A wrapped add listener function that registers the given listener.\r\n * @name DeserializedAddListener\r\n * @function\r\n * @param {Function} listener The listener function to register. It should expect the (optionally)\r\n * deserialized message as its first argument.\r\n * @param {Function} [shouldDeserialize] A function that takes the arguments passed to the listener\r\n * and returns whether the message payload should be deserialized. Not all messages (notably, messages\r\n * this listener doesn't care about) should be attempted to be deserialized.\r\n */\n\n/**\r\n * Given a deserializer, returns an AddListenerDeserializer function that that takes an add listener\r\n * function and returns a DeserializedAddListener that automatically deserializes message payloads.\r\n * Each message listener is expected to take the message as its first argument.\r\n * @param {Function} deserializer A function that deserializes a message payload.\r\n * @returns {AddListenerDeserializer}\r\n * Example Usage:\r\n *   const withJsonDeserializer = withDeserializer(payload => JSON.parse(payload));\r\n *   const deserializedChromeListener = withJsonDeserializer(chrome.runtime.onMessage.addListener);\r\n *   const shouldDeserialize = (message) => message.type === 'DESERIALIZE_ME';\r\n *   deserializedChromeListener(message => console.log(\"Payload:\", message.payload), shouldDeserialize);\r\n *   chrome.runtime.sendMessage(\"{'type:'DESERIALIZE_ME','payload':{'prop':4}}\");\r\n *   //Payload: { prop: 4 };\r\n *   chrome.runtime.sendMessage(\"{'payload':{'prop':4}}\");\r\n *   //Payload: \"{'prop':4}\";\r\n */\n\n\nvar withDeserializer = function withDeserializer() {\n  var deserializer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return function (addListenerFn) {\n    return function (listener, shouldDeserialize) {\n      return addListenerFn(deserializeListener(listener, deserializer, shouldDeserialize));\n    };\n  };\n};\n/**\r\n * Given a serializer, returns a function that takes a message sending\r\n * function as its sole argument and returns a wrapped message sender that\r\n * automaticaly serializes message payloads. The message sender\r\n * is expected to take the message as its first argument, unless messageArgIndex\r\n * is nonzero, in which case it is expected in the position specified by messageArgIndex.\r\n * @param {Function} serializer A function that serializes a message payload\r\n * Example Usage:\r\n *   const withJsonSerializer = withSerializer(payload => JSON.stringify(payload))\r\n *   const serializedChromeSender = withJsonSerializer(chrome.runtime.sendMessage)\r\n *   chrome.runtime.addListener(message => console.log(\"Payload:\", message.payload))\r\n *   serializedChromeSender({ payload: { prop: 4 }})\r\n *   //Payload: \"{'prop':4}\"\r\n */\n\n\nexports.withDeserializer = withDeserializer;\n\nvar withSerializer = function withSerializer() {\n  var serializer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return function (sendMessageFn) {\n    var messageArgIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      if (args.length <= messageArgIndex) {\n        throw new Error(\"Message in request could not be serialized. \" + \"Expected message in position \".concat(messageArgIndex, \" but only received \").concat(args.length, \" args.\"));\n      }\n\n      args[messageArgIndex] = transformPayload(args[messageArgIndex], serializer);\n      return sendMessageFn.apply(void 0, args);\n    };\n  };\n};\n\nexports.withSerializer = withSerializer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.assignin\"));\n\nvar _constants = require(\"../constants\");\n\nvar _serialization = require(\"../serialization\");\n\nvar _patch = _interopRequireDefault(require(\"../strategies/shallowDiff/patch\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar backgroundErrPrefix = '\\nLooks like there is an error in the background page. ' + 'You might want to inspect your background page for more details.\\n';\nvar defaultOpts = {\n  portName: _constants.DEFAULT_PORT_NAME,\n  state: {},\n  extensionId: null,\n  serializer: _serialization.noop,\n  deserializer: _serialization.noop,\n  patchStrategy: _patch.default\n};\n\nvar Store =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * Creates a new Proxy store\r\n   * @param  {object} options An object of form {portName, state, extensionId, serializer, deserializer, diffStrategy}, where `portName` is a required string and defines the name of the port for state transition changes, `state` is the initial state of this store (default `{}`) `extensionId` is the extension id as defined by browserAPI when extension is loaded (default `''`), `serializer` is a function to serialize outgoing message payloads (default is passthrough), `deserializer` is a function to deserialize incoming message payloads (default is passthrough), and patchStrategy is one of the included patching strategies (default is shallow diff) or a custom patching function.\r\n   */\n  function Store() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOpts,\n        _ref$portName = _ref.portName,\n        portName = _ref$portName === void 0 ? defaultOpts.portName : _ref$portName,\n        _ref$state = _ref.state,\n        state = _ref$state === void 0 ? defaultOpts.state : _ref$state,\n        _ref$extensionId = _ref.extensionId,\n        extensionId = _ref$extensionId === void 0 ? defaultOpts.extensionId : _ref$extensionId,\n        _ref$serializer = _ref.serializer,\n        serializer = _ref$serializer === void 0 ? defaultOpts.serializer : _ref$serializer,\n        _ref$deserializer = _ref.deserializer,\n        deserializer = _ref$deserializer === void 0 ? defaultOpts.deserializer : _ref$deserializer,\n        _ref$patchStrategy = _ref.patchStrategy,\n        patchStrategy = _ref$patchStrategy === void 0 ? defaultOpts.patchStrategy : _ref$patchStrategy;\n\n    _classCallCheck(this, Store);\n\n    if (!portName) {\n      throw new Error('portName is required in options');\n    }\n\n    if (typeof serializer !== 'function') {\n      throw new Error('serializer must be a function');\n    }\n\n    if (typeof deserializer !== 'function') {\n      throw new Error('deserializer must be a function');\n    }\n\n    if (typeof patchStrategy !== 'function') {\n      throw new Error('patchStrategy must be one of the included patching strategies or a custom patching function');\n    }\n\n    this.portName = portName;\n    this.readyResolved = false;\n    this.readyPromise = new Promise(function (resolve) {\n      return _this.readyResolve = resolve;\n    });\n    this.browserAPI = (0, _util.getBrowserAPI)();\n    this.extensionId = extensionId; // keep the extensionId as an instance variable\n\n    this.port = this.browserAPI.runtime.connect(this.extensionId, {\n      name: portName\n    });\n    this.safetyHandler = this.safetyHandler.bind(this);\n\n    if (this.browserAPI.runtime.onMessage) {\n      this.safetyMessage = this.browserAPI.runtime.onMessage.addListener(this.safetyHandler);\n    }\n\n    this.serializedPortListener = (0, _serialization.withDeserializer)(deserializer)(function () {\n      var _this$port$onMessage;\n\n      return (_this$port$onMessage = _this.port.onMessage).addListener.apply(_this$port$onMessage, arguments);\n    });\n    this.serializedMessageSender = (0, _serialization.withSerializer)(serializer)(function () {\n      var _this$browserAPI$runt;\n\n      return (_this$browserAPI$runt = _this.browserAPI.runtime).sendMessage.apply(_this$browserAPI$runt, arguments);\n    }, 1);\n    this.listeners = [];\n    this.state = state;\n    this.patchStrategy = patchStrategy; // Don't use shouldDeserialize here, since no one else should be using this port\n\n    this.serializedPortListener(function (message) {\n      switch (message.type) {\n        case _constants.STATE_TYPE:\n          _this.replaceState(message.payload);\n\n          if (!_this.readyResolved) {\n            _this.readyResolved = true;\n\n            _this.readyResolve();\n          }\n\n          break;\n\n        case _constants.PATCH_STATE_TYPE:\n          _this.patchState(message.payload);\n\n          break;\n\n        default: // do nothing\n\n      }\n    });\n    this.dispatch = this.dispatch.bind(this); // add this context to dispatch\n  }\n  /**\r\n  * Returns a promise that resolves when the store is ready. Optionally a callback may be passed in instead.\r\n  * @param [function] callback An optional callback that may be passed in and will fire when the store is ready.\r\n  * @return {object} promise A promise that resolves when the store has established a connection with the background page.\r\n  */\n\n\n  _createClass(Store, [{\n    key: \"ready\",\n    value: function ready() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (cb !== null) {\n        return this.readyPromise.then(cb);\n      }\n\n      return this.readyPromise;\n    }\n    /**\r\n     * Subscribes a listener function for all state changes\r\n     * @param  {function} listener A listener function to be called when store state changes\r\n     * @return {function}          An unsubscribe function which can be called to remove the listener from state updates\r\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n      return function () {\n        _this2.listeners = _this2.listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    }\n    /**\r\n     * Replaces the state for only the keys in the updated state. Notifies all listeners of state change.\r\n     * @param {object} state the new (partial) redux state\r\n     */\n\n  }, {\n    key: \"patchState\",\n    value: function patchState(difference) {\n      this.state = this.patchStrategy(this.state, difference);\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\r\n     * Replace the current state with a new state. Notifies all listeners of state change.\r\n     * @param  {object} state The new state for the store\r\n     */\n\n  }, {\n    key: \"replaceState\",\n    value: function replaceState(state) {\n      this.state = state;\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\r\n     * Get the current state of the store\r\n     * @return {object} the current store state\r\n     */\n\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.state;\n    }\n    /**\r\n     * Stub function to stay consistent with Redux Store API. No-op.\r\n     */\n\n  }, {\n    key: \"replaceReducer\",\n    value: function replaceReducer() {\n      return;\n    }\n    /**\r\n     * Dispatch an action to the background using messaging passing\r\n     * @param  {object} data The action data to dispatch\r\n     * @return {Promise}     Promise that will resolve/reject based on the action response from the background\r\n     */\n\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(data) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this3.serializedMessageSender(_this3.extensionId, {\n          type: _constants.DISPATCH_TYPE,\n          portName: _this3.portName,\n          payload: data\n        }, null, function (resp) {\n          if (!resp) {\n            var _error = _this3.browserAPI.runtime.lastError;\n            var bgErr = new Error(\"\".concat(backgroundErrPrefix).concat(_error));\n            reject((0, _lodash.default)(bgErr, _error));\n            return;\n          }\n\n          var error = resp.error,\n              value = resp.value;\n\n          if (error) {\n            var _bgErr = new Error(\"\".concat(backgroundErrPrefix).concat(error));\n\n            reject((0, _lodash.default)(_bgErr, error));\n          } else {\n            resolve(value && value.payload);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"safetyHandler\",\n    value: function safetyHandler(message) {\n      if (message.action === 'storeReady' && message.portName === this.portName) {\n        // Remove Saftey Listener\n        this.browserAPI.runtime.onMessage.removeListener(this.safetyHandler); // Resolve if readyPromise has not been resolved.\n\n        if (!this.readyResolved) {\n          this.readyResolved = true;\n          this.readyResolve();\n        }\n      }\n    }\n  }]);\n\n  return Store;\n}();\n\nvar _default = Store;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = applyMiddleware;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n// Function taken from redux source\n// https://github.com/reactjs/redux/blob/master/src/compose.js\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n} // Based on redux implementation of applyMiddleware to support all standard\n// redux middlewares\n\n\nfunction applyMiddleware(store) {\n  for (var _len2 = arguments.length, middlewares = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    middlewares[_key2 - 1] = arguments[_key2];\n  }\n\n  var _dispatch = function dispatch() {\n    throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n  };\n\n  var middlewareAPI = {\n    getState: store.getState.bind(store),\n    dispatch: function dispatch() {\n      return _dispatch.apply(void 0, arguments);\n    }\n  };\n  middlewares = (middlewares || []).map(function (middleware) {\n    return middleware(middlewareAPI);\n  });\n  _dispatch = compose.apply(void 0, _toConsumableArray(middlewares))(store.dispatch);\n  store.dispatch = _dispatch;\n  return store;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DIFF_STATUS_ARRAY_UPDATED = exports.DIFF_STATUS_KEYS_UPDATED = exports.DIFF_STATUS_REMOVED = exports.DIFF_STATUS_UPDATED = void 0;\n// The `change` value for updated or inserted fields resulting from shallow diff\nvar DIFF_STATUS_UPDATED = 'updated'; // The `change` value for removed fields resulting from shallow diff\n\nexports.DIFF_STATUS_UPDATED = DIFF_STATUS_UPDATED;\nvar DIFF_STATUS_REMOVED = 'removed';\nexports.DIFF_STATUS_REMOVED = DIFF_STATUS_REMOVED;\nvar DIFF_STATUS_KEYS_UPDATED = 'updated_keys';\nexports.DIFF_STATUS_KEYS_UPDATED = DIFF_STATUS_KEYS_UPDATED;\nvar DIFF_STATUS_ARRAY_UPDATED = 'updated_array';\nexports.DIFF_STATUS_ARRAY_UPDATED = DIFF_STATUS_ARRAY_UPDATED;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = shallowDiff;\n\nvar _constants = require(\"../constants\");\n\n/**\r\n * Returns a new Object containing only the fields in `new` that differ from `old`\r\n *\r\n * @param {Object} old\r\n * @param {Object} new\r\n * @return {Array} An array of changes. The changes have a `key`, `value`, and `change`.\r\n *   The change is either `updated`, which is if the value has changed or been added,\r\n *   or `removed`.\r\n */\nfunction shallowDiff(oldObj, newObj) {\n  var difference = [];\n  Object.keys(newObj).forEach(function (key) {\n    if (oldObj[key] !== newObj[key]) {\n      difference.push({\n        key: key,\n        value: newObj[key],\n        change: _constants.DIFF_STATUS_UPDATED\n      });\n    }\n  });\n  Object.keys(oldObj).forEach(function (key) {\n    if (!newObj.hasOwnProperty(key)) {\n      difference.push({\n        key: key,\n        change: _constants.DIFF_STATUS_REMOVED\n      });\n    }\n  });\n  return difference;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _constants = require(\"../constants\");\n\nfunction _default(obj, difference) {\n  var newObj = Object.assign({}, obj);\n  difference.forEach(function (_ref) {\n    var change = _ref.change,\n        key = _ref.key,\n        value = _ref.value;\n\n    switch (change) {\n      case _constants.DIFF_STATUS_UPDATED:\n        newObj[key] = value;\n        break;\n\n      case _constants.DIFF_STATUS_REMOVED:\n        Reflect.deleteProperty(newObj, key);\n        break;\n\n      default: // do nothing\n\n    }\n  });\n  return newObj;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBrowserAPI = getBrowserAPI;\n\n/**\r\n * Looks for a global browser api, first checking the chrome namespace and then\r\n * checking the browser namespace. If no appropriate namespace is present, this\r\n * function will throw an error.\r\n */\nfunction getBrowserAPI() {\n  var api;\n\n  try {\n    // eslint-disable-next-line no-undef\n    api = self.chrome || self.browser || browser;\n  } catch (error) {\n    // eslint-disable-next-line no-undef\n    api = browser;\n  }\n\n  if (!api) {\n    throw new Error(\"Browser API is not present\");\n  }\n\n  return api;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"../constants\");\n\nvar _serialization = require(\"../serialization\");\n\nvar _util = require(\"../util\");\n\nvar _diff = _interopRequireDefault(require(\"../strategies/shallowDiff/diff\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Responder for promisified results\r\n * @param  {object} dispatchResult The result from `store.dispatch()`\r\n * @param  {function} send         The function used to respond to original message\r\n * @return {undefined}\r\n */\nvar promiseResponder = function promiseResponder(dispatchResult, send) {\n  Promise.resolve(dispatchResult).then(function (res) {\n    send({\n      error: null,\n      value: res\n    });\n  }).catch(function (err) {\n    console.error('error dispatching result:', err);\n    send({\n      error: err.message,\n      value: null\n    });\n  });\n};\n\nvar defaultOpts = {\n  portName: _constants.DEFAULT_PORT_NAME,\n  dispatchResponder: promiseResponder,\n  serializer: _serialization.noop,\n  deserializer: _serialization.noop,\n  diffStrategy: _diff.default\n};\n/**\r\n * Wraps a Redux store so that proxy stores can connect to it.\r\n * @param {Object} store A Redux store\r\n * @param {Object} options An object of form {portName, dispatchResponder, serializer, deserializer}, where `portName` is a required string and defines the name of the port for state transition changes, `dispatchResponder` is a function that takes the result of a store dispatch and optionally implements custom logic for responding to the original dispatch message,`serializer` is a function to serialize outgoing message payloads (default is passthrough), `deserializer` is a function to deserialize incoming message payloads (default is passthrough), and diffStrategy is one of the included diffing strategies (default is shallow diff) or a custom diffing function.\r\n */\n\nvar _default = function _default(store) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOpts,\n      _ref$portName = _ref.portName,\n      portName = _ref$portName === void 0 ? defaultOpts.portName : _ref$portName,\n      _ref$dispatchResponde = _ref.dispatchResponder,\n      dispatchResponder = _ref$dispatchResponde === void 0 ? defaultOpts.dispatchResponder : _ref$dispatchResponde,\n      _ref$serializer = _ref.serializer,\n      serializer = _ref$serializer === void 0 ? defaultOpts.serializer : _ref$serializer,\n      _ref$deserializer = _ref.deserializer,\n      deserializer = _ref$deserializer === void 0 ? defaultOpts.deserializer : _ref$deserializer,\n      _ref$diffStrategy = _ref.diffStrategy,\n      diffStrategy = _ref$diffStrategy === void 0 ? defaultOpts.diffStrategy : _ref$diffStrategy;\n\n  if (!portName) {\n    throw new Error('portName is required in options');\n  }\n\n  if (typeof serializer !== 'function') {\n    throw new Error('serializer must be a function');\n  }\n\n  if (typeof deserializer !== 'function') {\n    throw new Error('deserializer must be a function');\n  }\n\n  if (typeof diffStrategy !== 'function') {\n    throw new Error('diffStrategy must be one of the included diffing strategies or a custom diff function');\n  }\n\n  var browserAPI = (0, _util.getBrowserAPI)();\n  /**\r\n   * Respond to dispatches from UI components\r\n   */\n\n  var dispatchResponse = function dispatchResponse(request, sender, sendResponse) {\n    if (request.type === _constants.DISPATCH_TYPE && request.portName === portName) {\n      var action = Object.assign({}, request.payload, {\n        _sender: sender\n      });\n      var dispatchResult = null;\n\n      try {\n        dispatchResult = store.dispatch(action);\n      } catch (e) {\n        dispatchResult = Promise.reject(e.message);\n        console.error(e);\n      }\n\n      dispatchResponder(dispatchResult, sendResponse);\n      return true;\n    }\n  };\n  /**\r\n  * Setup for state updates\r\n  */\n\n\n  var connectState = function connectState(port) {\n    if (port.name !== portName) {\n      return;\n    }\n\n    var serializedMessagePoster = (0, _serialization.withSerializer)(serializer)(function () {\n      return port.postMessage.apply(port, arguments);\n    });\n    var prevState = store.getState();\n\n    var patchState = function patchState() {\n      var state = store.getState();\n      var diff = diffStrategy(prevState, state);\n\n      if (diff.length) {\n        prevState = state;\n        serializedMessagePoster({\n          type: _constants.PATCH_STATE_TYPE,\n          payload: diff\n        });\n      }\n    }; // Send patched state down connected port on every redux store state change\n\n\n    var unsubscribe = store.subscribe(patchState); // when the port disconnects, unsubscribe the sendState listener\n\n    port.onDisconnect.addListener(unsubscribe); // Send store's initial state through port\n\n    serializedMessagePoster({\n      type: _constants.STATE_TYPE,\n      payload: prevState\n    });\n  };\n\n  var withPayloadDeserializer = (0, _serialization.withDeserializer)(deserializer);\n\n  var shouldDeserialize = function shouldDeserialize(request) {\n    return request.type === _constants.DISPATCH_TYPE && request.portName === portName;\n  };\n  /**\r\n   * Setup action handler\r\n   */\n\n\n  withPayloadDeserializer(function () {\n    var _browserAPI$runtime$o;\n\n    return (_browserAPI$runtime$o = browserAPI.runtime.onMessage).addListener.apply(_browserAPI$runtime$o, arguments);\n  })(dispatchResponse, shouldDeserialize);\n  /**\r\n   * Setup external action handler\r\n   */\n\n  if (browserAPI.runtime.onMessageExternal) {\n    withPayloadDeserializer(function () {\n      var _browserAPI$runtime$o2;\n\n      return (_browserAPI$runtime$o2 = browserAPI.runtime.onMessageExternal).addListener.apply(_browserAPI$runtime$o2, arguments);\n    })(dispatchResponse, shouldDeserialize);\n  } else {\n    console.warn('runtime.onMessageExternal is not supported');\n  }\n  /**\r\n   * Setup extended connection\r\n   */\n\n\n  browserAPI.runtime.onConnect.addListener(connectState);\n  /**\r\n   * Setup extended external connection\r\n   */\n\n  if (browserAPI.runtime.onConnectExternal) {\n    browserAPI.runtime.onConnectExternal.addListener(connectState);\n  } else {\n    console.warn('runtime.onConnectExternal is not supported');\n  }\n  /**\r\n   * Safety message to tabs for content scripts\r\n   */\n\n\n  browserAPI.tabs.query({}, function (tabs) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = tabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var tab = _step.value;\n        browserAPI.tabs.sendMessage(tab.id, {\n          action: 'storeReady',\n          portName: portName\n        }, function () {\n          if (chrome.runtime.lastError) {// do nothing - errors can be present\n            // if no content script exists on reciever\n          }\n        });\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }); // For non-tab based\n  // TODO: Find use case for this. Ommiting until then.\n  // browserAPI.runtime.sendMessage(null, {action: 'storeReady'});\n};\n\nexports.default = _default;","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createStore } from 'redux';\nimport { wrapStore } from 'webext-redux';\nimport { Config } from './lib/config.js';\n\n// Initialize configuration\n(async function() {\n  try {\n    console.log('[Background] Initializing configuration');\n    const config = await Config.initialize();\n    console.log('[Background] Configuration initialized:', config);\n  } catch (error) {\n    console.error('[Background] Error initializing configuration:', error);\n  }\n})();\n\n// Initial state\nconst initialState = {\n  videoId: null,\n  title: null,\n  playerData: null,\n  captions: null,\n  hasCaptions: false,\n  connections: {},\n  lastAction: null,\n  timestamp: null,\n};\n\n// Action types\nconst UPDATE_PLAYER_DATA = 'UPDATE_PLAYER_DATA';\nconst SET_CONNECTION = 'SET_CONNECTION';\n\n// Reducer\nfunction reducer(state = initialState, action = {}) {\n  console.log('[Store] Processing action:', {\n    type: action.type,\n    payload: action.payload,\n    currentVideoId: state.videoId,\n    newVideoId: action.payload?.videoId,\n    timestamp: Date.now(),\n  });\n\n  switch (action.type) {\n  case UPDATE_PLAYER_DATA: {\n    console.log('[Store] Processing UPDATE_PLAYER_DATA:', {\n      currentVideoId: state.videoId,\n      newVideoId: action.payload.videoId,\n      source: action.payload.source,\n      dispatchTime: action.payload.dispatchTime,\n      processTime: Date.now(),\n    });\n\n    const updatedState = {\n      ...state,\n      videoId: action.payload.videoId,\n      title: action.payload.title,\n      playerData: action.payload.playerData,\n      timestamp: action.payload.timestamp || Date.now(),\n      captions: action.payload.captions,\n      hasCaptions: action.payload.hasCaptions,\n      lastAction: action.payload.lastAction,\n      lastUpdateSource: action.payload.source,\n      lastUpdateTime: Date.now(),\n    };\n\n    console.log('[Store] State updated:', {\n      oldVideoId: state.videoId,\n      newVideoId: updatedState.videoId,\n      updateTime: updatedState.lastUpdateTime,\n      source: updatedState.lastUpdateSource,\n    });\n\n    return updatedState;\n  }\n\n  case SET_CONNECTION: {\n    console.log('[Store] Processing SET_CONNECTION:', {\n      name: action.payload.name,\n      connected: action.payload.connected,\n      reason: action.payload.reason,\n      timestamp: action.payload.timestamp,\n    });\n\n    const updatedState = {\n      ...state,\n      connections: {\n        ...state.connections,\n        [action.payload.name]: action.payload.connected,\n      },\n      lastConnectionUpdate: {\n        name: action.payload.name,\n        status: action.payload.connected,\n        timestamp: action.payload.timestamp,\n        reason: action.payload.reason,\n      },\n    };\n\n    console.log('[Store] Connection state updated:', {\n      name: action.payload.name,\n      oldStatus: state.connections?.[action.payload.name],\n      newStatus: updatedState.connections[action.payload.name],\n      timestamp: Date.now(),\n    });\n\n    return updatedState;\n  }\n\n  default:\n    return state;\n  }\n}\n\n// Create store\nconst store = createStore(reducer, initialState);\n\n// Initialize Chrome APIs only when they're available\nconst initializeExtension = async () => {\n  try {\n    // Make store available to extension components with error handling\n    try {\n      wrapStore(store, {\n        portName: 'YOUTUBE_SUBTITLES_STORE',\n      });\n      console.log('[Background] Store wrapped successfully');\n    } catch (storeError) {\n      console.error('[Background] Store wrapping error:', storeError);\n      // Attempt to reinitialize after a delay\n      setTimeout(initializeExtension, 1000);\n      return;\n    }\n\n    // Subscribe to store changes with error handling\n    const _unsubscribe = store.subscribe(() => {\n      try {\n        const state = store.getState();\n        console.log('[Background] Store updated:', {\n          videoId: state.videoId,\n          title: state.title,\n          timestamp: state.timestamp,\n          connections: state.connections,\n          hasCaptions: state.hasCaptions,\n          lastAction: state.lastAction,\n        });\n      } catch (error) {\n        console.error('[Background] Error in store subscriber:', error);\n      }\n    });\n\n    // Track injected tabs and panel states\n    const injectedTabs = new Set();\n    const panelStates = new Map();\n\n    // Inject content script function\n    async function injectContentScript(tabId) {\n      if (injectedTabs.has(tabId)) {\n        console.log('[Background] Content script already injected for tab:', tabId);\n        return;\n      }\n\n      try {\n        await chrome.scripting.executeScript({\n          target: { tabId },\n          files: ['content.js'],\n        });\n        console.log('[Background] Content script injected for tab:', tabId);\n        injectedTabs.add(tabId);\n      } catch (error) {\n        console.error('[Background] Failed to inject content script:', error);\n      }\n    }\n\n    // Keep service worker alive\n    let _keepAlive = setInterval(() => {\n      chrome.runtime.getPlatformInfo().catch(() => {});\n      console.log('[Background] Service worker keep-alive ping');\n    }, 20e3);\n\n    // Initialize side panel behavior\n    chrome.runtime.onInstalled.addListener(async () => {\n      console.log('[Background] Extension installed/updated');\n      if (chrome?.sidePanel?.setPanelBehavior) {\n        try {\n          await chrome.sidePanel.setPanelBehavior({ openPanelOnActionClick: true });\n          console.log('[Background] Side panel behavior set');\n        } catch (error) {\n          console.error('[Background] Error setting panel behavior:', error);\n        }\n      } else {\n        console.warn('[Background] Side panel API not available');\n      }\n    });\n\n    // Handle extension icon click\n    chrome.action.onClicked.addListener(async (tab) => {\n      console.log('[Background] Extension icon clicked', tab);\n      console.log('[Background] Current panel states:', panelStates);\n\n      if (!chrome?.sidePanel) {\n        console.warn('[Background] Side panel API not available');\n        return;\n      }\n\n      try {\n        const isOpen = panelStates.get(tab.windowId) || false;\n        \n        if (isOpen) {\n          await chrome.sidePanel.setOptions({\n            tabId: tab.id,\n            enabled: false\n          });\n          panelStates.set(tab.windowId, false);\n          console.log('[Background] Side panel closed');\n        } else {\n          await chrome.sidePanel.setOptions({\n            tabId: tab.id,\n            enabled: true,\n            path: 'sidebar.html'\n          });\n          await chrome.sidePanel.open({ windowId: tab.windowId });\n          panelStates.set(tab.windowId, true);\n          console.log('[Background] Side panel opened');\n\n          if (tab.url && tab.url.includes('youtube.com/watch')) {\n            await injectContentScript(tab.id);\n            chrome.tabs.sendMessage(tab.id, { type: 'CHECK_VIDEO' });\n          }\n        }\n      } catch (error) {\n        console.error('[Background] Error handling icon click:', error);\n      }\n    });\n\n    // Track panel visibility changes\n    if (chrome?.sidePanel?.onToggle?.addListener) {\n      try {\n        chrome.sidePanel.onToggle.addListener(({ windowId, enabled }) => {\n          console.log('[Background] Side panel toggle:', { windowId, enabled });\n          panelStates.set(windowId, enabled);\n        });\n        console.log('[Background] Side panel toggle listener set up successfully');\n      } catch (error) {\n        console.error('[Background] Error setting up sidePanel toggle listener:', error);\n      }\n    } else {\n      console.warn('[Background] Side panel toggle API not available');\n    }\n\n    // Clean up when tab closes\n    chrome.tabs.onRemoved.addListener((tabId) => {\n      injectedTabs.delete(tabId);\n    });\n\n    // Only inject when needed\n    chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n      if (tab.url?.includes('youtube.com/watch')\n          && changeInfo.status === 'complete') {\n        injectContentScript(tabId);\n      }\n    });\n\n    // Handle messages\n    chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n      console.log('[Background] Received message:', {\n        type: request.type,\n        sender: sender.id,\n        timestamp: Date.now(),\n      });\n\n      if (request.type === 'FETCH_PROXY_SRT') {\n        console.log('[Background] Handling proxy SRT fetch request:', {\n          videoId: request.videoId,\n          language: request.language,\n          url: request.url\n        });\n        \n        // This is critical for asynchronous message handling\n        // We must return true immediately to keep the message channel open\n        \n        (async () => {\n          try {\n            // Get the SRT provider URL from user configuration\n            const srtProvider = await Config.getSrtProvider();\n            \n            if (!srtProvider) {\n              console.error('[Background] No SRT provider configured');\n              sendResponse({\n                success: false,\n                error: 'No SRT provider configured. Please configure an SRT provider in the extension settings.'\n              });\n              return;\n            }\n            \n            // Check if we have permission for the domain\n            const hasPermission = await new Promise(resolve => {\n              chrome.permissions.contains({\n                origins: [`${srtProvider}/*`]\n              }, result => resolve(result));\n            });\n            \n            console.log('[Background] Permission check result:', hasPermission);\n            \n            if (!hasPermission) {\n              console.error(\n                '[Background] No permission for proxy domain. ' +\n                'Permission should have been requested during configuration.'\n              );\n              sendResponse({\n                success: false,\n                error: 'No permission for accessing the proxy server. ' + \n                       'Please reconfigure the SRT provider in the extension settings.',\n                needsPermission: true\n              });\n            } else {\n              // Already have permission, proceed with fetch\n              await performFetch();\n            }\n          } catch (error) {\n            console.error('[Background] Error in FETCH_PROXY_SRT handler:', error);\n            sendResponse({\n              success: false,\n              error: error.message\n            });\n          }\n        })();\n        \n        // Function to perform the actual fetch\n        async function performFetch() {\n          try {\n            // Handle the fetch in the background script to avoid CORS issues\n            const response = await fetch(request.url);\n            \n            if (!response.ok) {\n              throw new Error(`Failed to fetch: ${response.status} ${response.statusText}`);\n            }\n            \n            const text = await response.text();\n            console.log('[Background] Proxy SRT fetch successful, content length:', text.length);\n            \n            sendResponse({\n              success: true,\n              transcript: text,\n              proxyUrl: request.url,\n              videoId: request.videoId,\n              language: request.language\n            });\n          } catch (error) {\n            console.error('[Background] Proxy SRT fetch error:', error);\n            \n            // Check if this might be a permission error\n            const isPermissionError = \n              error.message.includes('net::ERR_BLOCKED_BY_CLIENT') ||\n              error.message.includes('Failed to fetch');\n            \n            sendResponse({\n              success: false,\n              error: error.message,\n              needsPermission: isPermissionError\n            });\n          }\n        }\n        \n        // Return true to indicate we'll respond asynchronously\n        return true;\n      }\n\n      if (request.type === 'CHECK_BACKGROUND_STATUS') {\n        console.log('[Background] Responding to status check');\n        sendResponse({\n          isActive: true,\n          timestamp: Date.now(),\n        });\n        return true;\n      }\n\n      if (request.type === 'PING') {\n        sendResponse({ pong: true, timestamp: Date.now() });\n        return true;\n      }\n\n      return true;\n    });\n\n    // Handle port connections\n    chrome.runtime.onConnect.addListener((port) => {\n      console.log('[Background] Port connected:', {\n        portName: port.name,\n        timestamp: Date.now(),\n      });\n\n      connections.set(port.name, port);\n      store.dispatch({\n        type: SET_CONNECTION,\n        payload: {\n          name: port.name,\n          connected: true,\n          timestamp: Date.now(),\n        },\n      });\n\n      port.onDisconnect.addListener(() => {\n        console.log('[Background] Port disconnected:', {\n          portName: port.name,\n          timestamp: Date.now(),\n        });\n\n        connections.delete(port.name);\n        store.dispatch({\n          type: SET_CONNECTION,\n          payload: {\n            name: port.name,\n            connected: false,\n            timestamp: Date.now(),\n            reason: chrome.runtime.lastError?.message || 'normal_disconnect',\n          },\n        });\n      });\n    });\n\n  } catch (error) {\n    console.error('[Background] Error initializing extension:', error);\n  }\n};\n\n// Initialize only when Chrome APIs are available\nif (typeof chrome !== 'undefined' && chrome.runtime) {\n  initializeExtension().catch(error => {\n    console.error('[Background] Failed to initialize extension:', error);\n  });\n}\n\n// Connection management\nconst connections = new Map();\n"],"names":["isDev","chrome","runtime","getManifest","version","includes","location","hostname","id","console","log","CURRENT_CONFIG_VERSION","SUPPORTED_LANGUAGES","FONT_SIZES","DEFAULT_FONT_SIZE","DEFAULT_SRT_PROVIDER","undefined","API_CONFIG","BASE_URL","ENDPOINTS","TRANSCRIBE","TRANSLATE","TRANSCRIPT","SUMMARIZE","SUBTITLES_CONFIG","BATCH_SIZE","MAX_CONCURRENT_BATCHES","UPDATE_INTERVAL","ENABLE_LIVE_SUBTITLES","STYLES","CONTAINER","position","bottom","left","right","textAlign","zIndex","pointerEvents","display","flexDirection","alignItems","padding","SUBTITLE_BLOCK","backgroundColor","borderRadius","width","margin","ZH_TW","fontSize","fontFamily","color","textShadow","marginBottom","EN","toggleLiveCaptions","currentState","Config","getLiveCaptionsEnabled","newState","setLiveCaptionsEnabled","tabs","query","active","currentWindow","sendMessage","type","enabled","forceLiveCaptionsDisabled","defaultPreferences","preferences","language","value","lastUpdated","Date","now","liveCaptions","allowedValues","bulletList","srtProvider","get","config","storage","local","migrateConfig","save","error","JSON","stringify","set","initialize","updated","key","oldConfig","newConfig","preferredCaptionLanguage","liveCaptionsEnabled","parseInt","localStorage","getItem","bulletListEnabled","getPreferredLanguage","setPreferredLanguage","lang","validLang","getFontSize","setFontSize","size","validSize","getBulletListEnabled","setBulletListEnabled","getSrtProvider","setSrtProvider","provider","verifyConfig","createStore","wrapStore","initialState","videoId","title","playerData","captions","hasCaptions","connections","lastAction","timestamp","UPDATE_PLAYER_DATA","SET_CONNECTION","reducer","state","action","payload","currentVideoId","newVideoId","source","dispatchTime","processTime","updatedState","lastUpdateSource","lastUpdateTime","oldVideoId","updateTime","name","connected","reason","lastConnectionUpdate","status","oldStatus","newStatus","store","initializeExtension","portName","storeError","setTimeout","_unsubscribe","subscribe","getState","injectedTabs","Set","panelStates","Map","injectContentScript","tabId","has","scripting","executeScript","target","files","add","_keepAlive","setInterval","getPlatformInfo","catch","onInstalled","addListener","sidePanel","setPanelBehavior","openPanelOnActionClick","warn","onClicked","tab","isOpen","windowId","setOptions","path","open","url","onToggle","onRemoved","delete","onUpdated","changeInfo","onMessage","request","sender","sendResponse","success","hasPermission","Promise","resolve","permissions","contains","origins","result","needsPermission","performFetch","message","response","fetch","ok","Error","statusText","text","length","transcript","proxyUrl","isPermissionError","isActive","pong","onConnect","port","dispatch","onDisconnect","lastError"],"sourceRoot":""}